<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="myJquery.js"></script>
    <style>
        div{
            width:200px;height:200px;
            border:1px solid red;
        }
        div:nth-child(2){
            width:500px;
        }
    </style>
    <script>
        /*
        * 事件驱动
        *
        * 事件源       事件     事件处理程序
        * dom元素
        *
        *
        * 常见的事件类型
        *
        *      主观事件
        *         鼠标事件  单击click 双击 dblclick 按下 mousedown  抬起  mouseup  移动 mousemove 移入 mouseover 移出 mouseout  鼠标滚轮 mousewhell
        *
        *         键盘事件
        *
        *         keydown keyup keypress
        *
        *      客观存在
        *
        *      window.onload
        *
        *
        *     1. 调用
        *     2. 事件触发的时候
        *
        *    点击  200-500  2s  500-200  3s
        *
        *    //同一个事件，操作两个动画
        *
        *    节点   setInterval
        * */
        window.onload=function () {
            var div = document.querySelector("div");
            /*
            *   t 当前的时间
            *   b 开始的值
            *   c 变化值
            *   d 持续的时间
            * */
            function linear(t,b,c,d){
                return c/d*t+b;
            }

            function ease(t,b,c,d) {
                return -c*(t/=d)*(t-2) + b
            }







            function animate(obj,attr,time,callback) {
                var starts={}
                for(var i in attr){
                    starts[i]=parseInt(getComputedStyle(obj,null)[i])
                }
                console.log(starts);
                var changes={};
                for(var i in starts){
                    changes[i]=attr[i]-starts[i];
                }
                var current=0;



                var t=setInterval(function () {
                    if(current>=time){
                        if(callback) {
                            callback()
                        }
                        for(var i in changes){
                            obj.style[i]=attr[i]+"px"
                        }

                        clearInterval(t);

                    }else{
                        for(var i in changes){
                            obj.style[i]=ease(current,starts[i],changes[i],time)+"px"
                        }
                    }
                    current+=40;
                },40)

            }

            animate(div,{width:500},1000)
        }
    </script>
</head>
<body>
<div>
</div>
<div>

</div>
</body>
</html>